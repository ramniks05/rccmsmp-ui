<!-- ================= TOP UPPER HEADER (NIC / BIS STYLE) ================= -->
<header class="top-header">
  <div class="container-fluid">
    <div class="row align-items-center">
      <!-- LEFT : Government / Department Branding -->
      <div class="col-lg-5 col-md-5 col-sm-12 branding">
        <div class="branding-wrap">
          <img
            class="gov-logo"
            [src]="data.stateConfig.logoUrl"
            alt="State Logo"
          />
          <div class="branding-text">
            <h2>{{ settings!.logoHeader }}</h2>
            <h3 *ngIf="settings!.stateName">
              Government of {{ settings!.stateName }}
            </h3>
          </div>
        </div>
      </div>

      <!-- CENTER : Secondary Logo (Project / Portal) -->
      <div class="col-lg-4 col-md-4 col-sm-12 text-center portal-logo">
        <img
          [src]="settings!.secondaryLogoUrl"
          alt="Portal Logo"
          class="secondary-logo"
        />
        <img
          [src]="settings!.tertiaryLogoUrl"
          class="digital-logo"
          alt="Digital India Logo"
        />
      </div>

      <!-- RIGHT : Accessibility + Auth -->
      <div class="col-lg-3 col-md-3 col-sm-12 actions">
        <!-- ROW 1 : ACCESSIBILITY TOOLS -->
        <ul class="accessibility">
          <!-- Skip to main content -->
          <li>
            <a href="#main-content" class="skip-link">
              <mat-icon>skip_next</mat-icon>
              Skip
            </a>
          </li>

          <!-- High Contrast -->
          <li>
            <button aria-label="Toggle high contrast">
              <mat-icon>contrast</mat-icon>
            </button>
          </li>

          <!-- Text Spacing -->
          <li>
            <button aria-label="Increase text spacing">
              <mat-icon>format_line_spacing</mat-icon>
            </button>
          </li>

          <!-- Screen Reader Info -->
          <li>
            <button aria-label="Screen reader support">
              <mat-icon>record_voice_over</mat-icon>
            </button>
          </li>

          <!-- Zoom Dropdown (single modern control) -->
          <li class="zoom-dropdown">
            <button
              mat-button
              [matMenuTriggerFor]="zoomMenu"
              aria-label="Zoom options"
            >
              <mat-icon>zoom_in</mat-icon>
              <span class="zoom-text">Zoom</span>
            </button>

            <mat-menu #zoomMenu="matMenu">
              <button mat-menu-item>100%</button>
              <button mat-menu-item>110%</button>
              <button mat-menu-item>125%</button>
              <button mat-menu-item>150%</button>
            </mat-menu>
          </li>
        </ul>

        <!-- ROW 2 : AUTH ACTIONS -->
        <div class="auth-buttons">
          <button class="login-btn" (click)="goToLogin()">
            <mat-icon>lock</mat-icon>
            Login
          </button>

          <button class="register-btn" (click)="goToRegistration()">
            <mat-icon>person_add</mat-icon>
            Register
          </button>
        </div>
      </div>
    </div>
  </div>
</header>

<!-- ================= MAIN NAV BAR ================= -->
<nav class="main-nav">
  <div class="container-fluid">
    <ul class="nav-list">
      <li class="active">
        <a href="#"><mat-icon>home</mat-icon> Home</a>
      </li>
      <li>
        <a href="#"><mat-icon>info</mat-icon> About</a>
      </li>
      <li>
        <a href="#"><mat-icon>description</mat-icon> Documents</a>
      </li>
      <li>
        <a href="#"><mat-icon>help</mat-icon> FAQ</a>
      </li>
      <li>
        <a href="#"><mat-icon>call</mat-icon> Contact Us</a>
      </li>
    </ul>
  </div>
  <!-- NOTICE MARQUEE -->
  <div class="notice-marquee">
    <mat-icon>campaign</mat-icon>
    <marquee>{{ settings!.marqueeText }}</marquee>
  </div>
</nav>

<!-- ===== Sidebar + Content (Below Banner) ===== -->
<section class="container-services sidebarMenu__outer next-section">
  <div class="row">
    <div class="row align-items-stretch">
      <!-- LEFT -->
      <div class="col-12 col-lg-8 content-area d-flex">
        <section class="top-banner w-100">
          <!-- Banner slides (if available) -->
          <ng-container *ngIf="hasBanners()">
            <div
              class="banner-slide"
              *ngFor="let banner of settings!.banners; let i = index"
              [class.active]="i === activeBanner"
            >
              <img [src]="banner.url" [alt]="banner.header || 'Banner'" />
              <div class="banner-overlay">
                <h2>{{ banner.header }}</h2>
                <p>{{ banner.subHeader }}</p>
              </div>
            </div>
          </ng-container>

          <!-- Fallback / Placeholder Banner (if no banners from backend) -->
          <div class="banner-slide active" *ngIf="!hasBanners()">
            <div class="fallback-banner">
              <div class="banner-overlay">
                <h2>
                  {{
                    settings?.logoHeader ||
                      "Revenue Court Case Management System"
                  }}
                </h2>
                <p>{{ getFallbackBannerText() }}</p>
              </div>
            </div>
          </div>
        </section>
      </div>

      <!-- RIGHT - WHAT'S NEW -->
      <div class="col-12 col-lg-4 d-flex">
        <div class="whats-new-card">
          <!-- HEADER -->
          <div class="whats-new-header">
            <div class="header-content">
              <mat-icon class="header-icon">campaign</mat-icon>
              <h3 class="header-title">What's New</h3>
            </div>
            <span class="live-badge">
              <span class="pulse-dot"></span>
              Live
            </span>
          </div>

          <!-- CONTENT -->
          <div class="whats-new-body">
            <div class="news-list">
              <div class="marquee-container">
                <div class="marquee-inner">
                  <div
                    class="news-item"
                    *ngFor="let item of whatsNewList; let i = index"
                  >
                    <div class="news-index">{{ i + 1 }}</div>
                    <div class="news-content">
                      <div class="news-date">
                        <mat-icon>description</mat-icon>
                        {{ item.date }}
                      </div>
                      <div class="news-title">{{ item.title }}</div>
                    </div>
                    <a
                      class="news-link"
                      [href]="item.pdfUrl"
                      target="_blank"
                      matTooltip="View Document"
                    >
                      <mat-icon>picture_as_pdf</mat-icon>
                    </a>
                  </div>
                </div>
              </div>
            </div>
          </div>

          <!-- FOOTER -->
          <div class="whats-new-footer">
            <a
              href="/Home/AllNotification"
              target="_blank"
              class="view-all-btn"
            >
              <span>View All Updates</span>
              <mat-icon>open_in_new</mat-icon>
            </a>
          </div>
        </div>
      </div>
    </div>

    <!-- SECTION HEADER -->
    <div class="section-header">
      <h2>System Overview & Statistics</h2>
      <p>
        Transparency and progress of the Revenue Court Case Management System
      </p>
    </div>

    <!-- System Overview Section -->
    <div class="system-overview-container">
      <div class="row">
        <!-- LEFT COLUMN - Data Visualization (col-4) -->
        <div class="col-lg-4 col-md-12 mb-4 mb-lg-0">
          <div class="data-viz-section full-height-section">
            <!-- Circular Progress Chart -->
            <div class="viz-card animate-fade-in flex-grow-card">
              <h3 class="viz-title">System Health & Progress</h3>

              <div class="progress-ring-wrapper">
                <svg class="progress-ring" width="180" height="180">
                  <circle
                    cx="90"
                    cy="90"
                    r="70"
                    stroke="#e2e8f0"
                    stroke-width="12"
                    fill="none"
                  ></circle>
                  <circle
                    class="progress-ring-circle"
                    cx="90"
                    cy="90"
                    r="70"
                    stroke="url(#gradient1)"
                    stroke-width="12"
                    fill="none"
                    [attr.stroke-dasharray]="progressStrokeDasharray"
                    [attr.stroke-dashoffset]="progressStrokeDashoffset"
                    stroke-linecap="round"
                  ></circle>
                  <defs>
                    <linearGradient
                      id="gradient1"
                      x1="0%"
                      y1="0%"
                      x2="100%"
                      y2="100%"
                    >
                      <stop
                        offset="0%"
                        style="stop-color: #1a56db; stop-opacity: 1"
                      />
                      <stop
                        offset="100%"
                        style="stop-color: #0d9488; stop-opacity: 1"
                      />
                    </linearGradient>
                  </defs>
                </svg>
                <div class="progress-center">
                  <div class="progress-value">{{ progressPercentage }}%</div>
                  <div class="progress-label">Efficiency</div>
                </div>
              </div>

              <div
                class="mini-stat"
                *ngFor="let metric of healthMetrics"
                [style.border-left-color]="metric.color"
              >
                <div class="mini-stat-label">{{ metric.label }}</div>
                <div class="mini-stat-value">{{ metric.value }}</div>
              </div>
            </div>

            <!-- Quick Stats -->
            <div class="viz-card animate-fade-in-delay">
              <h3 class="viz-title">Key Metrics</h3>

              <div
                class="mini-stat"
                *ngFor="let metric of keyMetrics"
                [style.border-left-color]="metric.color"
              >
                <div class="mini-stat-label">{{ metric.label }}</div>
                <div class="mini-stat-value">{{ metric.value }}</div>
              </div>
            </div>
          </div>
        </div>

        <!-- RIGHT COLUMN - Modern Cards (col-8) -->
        <div class="col-lg-8 col-md-12">
          <div class="full-height-section">
            <div class="stats-grid">
              <!-- Stat Cards -->
              <div
                *ngFor="let card of statsCards; let i = index"
                class="stat-card {{ card.colorClass }} animate-card"
                [style.animation-delay]="i * 0.1 + 's'"
              >
                <div class="stat-header">
                  <div class="stat-icon">
                    <i class="fas {{ card.icon }}"></i>
                  </div>
                  <h5 class="stat-title">{{ card.title }}</h5>
                </div>

                <div class="stat-value">{{ card.value }}</div>

                <div class="stat-trend {{ card.trend.direction }}">
                  <i class="fas {{ getTrendIcon(card.trend.direction) }}"></i>
                  {{ card.trend.value }}
                </div>

                <div class="stat-footer">
                  <span class="stat-detail">{{ card.detail }}</span>
                  <a
                    href="javascript:void(0)"
                    class="stat-link"
                    (click)="viewDetails(card.title)"
                  >
                    View Details <i class="fas fa-arrow-right"></i>
                  </a>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>

    <!-- SECTION HEADER -->
    <div class="section-header">
      <h2>Court Schedules</h2>
      <p>Check cause lists and upcoming hearing dates</p>
    </div>

    <!-- ROW 1: CAUSE LISTS & HEARING CALENDAR (LARGER) -->
    <div class="row mb-4">
      <div class="col-lg-6 mb-4">
        <app-cause-list></app-cause-list>
      </div>
      <div class="col-lg-6 mb-4">
        <app-hearing-calendar></app-hearing-calendar>
      </div>
    </div>

    <!-- SECTION HEADER -->
    <div class="section-header">
      <h2>Services & Resources</h2>
      <p>Access our digital services and legal documents</p>
    </div>

    <!-- ROW 2: SERVICES & DOCUMENTS SIDE BY SIDE -->
    <div class="row mb-4">
      <!-- LEFT: SERVICES (6 columns) -->
      <div class="col-lg-6 mb-4">
        <div class="services-container">
          <div class="services-header">
            <mat-icon class="header-icon">apps</mat-icon>
            <h3 class="header-title">Our Services</h3>
            <span class="services-count">8</span>
          </div>
          <div class="services-grid">
            <div
              class="service-item"
              *ngFor="let service of services | slice: 0 : 8"
            >
              <div class="service-icon-circle">
                <mat-icon>{{ service.icon }}</mat-icon>
              </div>
              <h6 class="service-name">{{ service.title }}</h6>
            </div>
          </div>
        </div>
      </div>

      <!-- RIGHT: DOCUMENTS (6 columns) -->
      <div class="col-lg-6 mb-4">
        <div class="documents-card">
          <!-- HEADER -->
          <div class="docs-header">
            <mat-icon class="header-icon">folder_open</mat-icon>
            <h3 class="header-title">Legal Documents</h3>
            <span class="docs-count">4</span>
          </div>

          <!-- DOCUMENT LIST - VERTICAL LIST -->
          <div class="docs-list">
            <a href="#" class="doc-item">
              <div class="doc-icon-wrapper">
                <mat-icon class="doc-icon">picture_as_pdf</mat-icon>
              </div>
              <div class="doc-content">
                <div class="doc-title">
                  The Manipur Revenue Code (Amendment) Act, 2021
                </div>
                <div class="doc-meta">
                  <span class="doc-size">2.4 MB</span>
                  <span class="doc-type">PDF</span>
                </div>
              </div>
              <mat-icon class="download-icon">download</mat-icon>
            </a>

            <a href="#" class="doc-item">
              <div class="doc-icon-wrapper">
                <mat-icon class="doc-icon">picture_as_pdf</mat-icon>
              </div>
              <div class="doc-content">
                <div class="doc-title">
                  The Manipur Revenue Code (Amendment) Act, 2020
                </div>
                <div class="doc-meta">
                  <span class="doc-size">1.8 MB</span>
                  <span class="doc-type">PDF</span>
                </div>
              </div>
              <mat-icon class="download-icon">download</mat-icon>
            </a>

            <a href="#" class="doc-item">
              <div class="doc-icon-wrapper">
                <mat-icon class="doc-icon">picture_as_pdf</mat-icon>
              </div>
              <div class="doc-content">
                <div class="doc-title">
                  The Manipur Revenue Code (Amendment) Act, 2019
                </div>
                <div class="doc-meta">
                  <span class="doc-size">2.1 MB</span>
                  <span class="doc-type">PDF</span>
                </div>
              </div>
              <mat-icon class="download-icon">download</mat-icon>
            </a>

            <a href="#" class="doc-item featured">
              <div class="doc-icon-wrapper featured-icon">
                <mat-icon class="doc-icon">menu_book</mat-icon>
              </div>
              <div class="doc-content">
                <div class="doc-title">
                  Manipur Revenue Code Bill â€“ 2006 (E-Book)
                </div>
                <div class="doc-meta">
                  <span class="doc-size">5.2 MB</span>
                  <span class="doc-type">E-BOOK</span>
                  <span class="featured-badge">Featured</span>
                </div>
              </div>
              <mat-icon class="download-icon">download</mat-icon>
            </a>
          </div>

          <!-- FOOTER -->
          <div class="docs-footer">
            <a href="#" class="view-all-docs">
              <span>Browse All Documents</span>
              <mat-icon>arrow_forward</mat-icon>
            </a>
          </div>
        </div>
      </div>
    </div>

    <!-- <div class="container-services my-4">
      <div class="row">
        <div class="col-lg-4 col-md-6 mb-4">
          <div class="doc-section">
            <h5 class="section-title">ðŸ“„ Documents Available</h5>

            <div class="doc-item">
              <span class="pdf-icon">PDF</span>
              <a href="#">The Manipur Revenue Code (Amendment) Act, 2021</a>
            </div>

            <div class="doc-item">
              <span class="pdf-icon">PDF</span>
              <a href="#">The Manipur Revenue Code (Amendment) Act, 2020</a>
            </div>

            <div class="doc-item">
              <span class="pdf-icon">PDF</span>
              <a href="#">The Manipur Revenue Code (Amendment) Act, 2019</a>
            </div>

            <div class="doc-item highlight">
              <span class="pdf-icon">PDF</span>
              <a href="#">Manipur Revenue Code Bill â€“ 2006 (E-Book)</a>
            </div>
          </div>
        </div>

        <div class="col-lg-4 col-md-6 mb-4">
          <div class="vm-section vision">
            <h5 class="vm-title">
              <span class="vm-icon vision-icon"></span>
              VISION
            </h5>
            <p>
              Computerization of all the revenue courts of the state to ensure
              100% transparency in proceedings and to make information related
              to cases, due dates, orders passed by courts and proceedings
              available to litigants, advocates and the general public.
            </p>
          </div>
        </div>

        <div class="col-lg-4 col-md-12 mb-4">
          <div class="vm-section mission">
            <h5 class="vm-title">
              <span class="vm-icon mission-icon"></span>
              MISSION
            </h5>
            <p>
              To bring all 3073 revenue courts of the state, from Naib Tehsildar
              Court to the Revenue Council, onto a unified online platform for
              viewing case status, proceedings, due dates and orders passed by
              the courts.
            </p>
          </div>
        </div>
      </div>
    </div> -->

    <!-- <div class="section-header m-0">
      <h2>Services</h2>
    </div>

    <section class="services-section">
      <div class="container-services">
        <div class="row">
          <ng-container *ngFor="let service of services; let i = index">
            <div class="col-lg-4 col-md-6 mb-4">
              <div class="service-card" [class.active]="service.open">
                <div class="service-header" (click)="toggle(i)">
                  <div class="service-left">
                    <mat-icon class="service-icon">{{ service.icon }}</mat-icon>
                    <span class="service-title">{{ service.title }}</span>
                  </div>

                  <mat-icon class="chevron">
                    {{ service.open ? "expand_less" : "expand_more" }}
                  </mat-icon>
                </div>

                <div class="service-body" *ngIf="service.open">
                  <ul>
                    <li *ngFor="let item of service.items">
                      <a [href]="item.link">â€¢ {{ item.label }}</a>
                    </li>
                  </ul>
                </div>
              </div>
            </div>
          </ng-container>
        </div>
      </div>
    </section> -->
  </div>
</section>
